# generated: 2026-01-29
# project: tdec-prospect
# project_key: NOKEY
# tracking_system: file-system
# story_location: _bmad-output/implementation-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic not yet started
#   - in-progress: Epic actively being worked on
#   - done: All stories in epic completed
#
# Epic Status Transitions:
#   - backlog -> in-progress: Automatically when first story is created (via create-story)
#   - in-progress -> done: Manually when all stories reach 'done' status
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - ready-for-dev: Story file created in stories folder
#   - in-progress: Developer actively working on implementation
#   - review: Ready for code review (via Dev's code-review workflow)
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - done: Retrospective has been completed
#
# WORKFLOW NOTES:
# ===============
# - Epic transitions to 'in-progress' automatically when first story is created
# - Stories can be worked in parallel if team capacity allows
# - SM typically creates next story after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', then runs code-review (fresh context, different LLM recommended)

generated: 2026-01-29
project: tdec-prospect
project_key: NOKEY
tracking_system: file-system
story_location: _bmad-output/implementation-artifacts

# GIT BRANCH TRACKING
# ===================
current_branch: epic/5-campaign-builder
base_branch: epic/3-lead-discovery

branch_strategy:
  # Branch naming convention:
  # - epic/{epic-number}-{epic-name}     → Branch do epic (ex: epic/1-mvp-prospecting)
  # - feature/{story-id}-{story-name}   → Branch da story (ex: feature/1.1-project-initialization)
  #
  # Workflow:
  # 1. Epic branch criada a partir da main (ou epic anterior)
  # 2. Feature branches criadas a partir do epic
  # 3. Ao finalizar story → merge na branch do epic
  # 4. Ao finalizar epic → PR para main

branches:
  main: "Branch de produção estável"
  epic/1-mvp-prospecting: "Epic 1 - Foundation & Authentication (DONE)"
  epic/2-administration-configuration: "Epic 2 - Administration & Configuration (DONE)"
  epic/3-lead-discovery: "Epic 3 & 4 - Lead Discovery & Management (DONE)"
  epic/5-campaign-builder: "Epic 5 - Campaign Builder (CURRENT)"

development_status:
  # Epic 1: Foundation & Authentication
  epic-1: done
  1-1-project-initialization-with-starter-template: done
  1-2-design-system-theme-configuration: done
  1-3-application-shell-with-navigation: done
  1-4-supabase-authentication-setup: done
  1-5-multi-tenant-database-structure-rls: done
  epic-1-retrospective: done

  # Epic 2: Administration & Configuration
  epic-2: done
  2-1-settings-page-structure-api-configuration-ui: done
  2-2-api-keys-storage-encryption: done
  2-3-integration-connection-testing: done
  2-4-knowledge-base-editor-company-profile: done
  2-5-knowledge-base-editor-tone-examples: done
  2-6-knowledge-base-editor-icp-definition: done
  2-7-team-management-invite-remove-users: done
  epic-2-retrospective: done

  # Epic 3: Lead Discovery
  epic-3: in-progress
  3-1-leads-page-data-model: done
  3-2-apollo-api-integration-service: done
  3-2-1-people-enrichment-integration: done  # Added: Enrich leads with complete data (email, phone, full last_name)
  3-3-traditional-filter-search: done
  3-4-ai-conversational-search: done
  3-5-lead-table-display: done
  3-5-1-contact-availability-indicators: done  # Added: Email/phone availability icons + email status filter
  3-6-lead-selection-individual-batch: done
  3-7-saved-filters-favorites: done  # Code review: AC #4 undo fix applied
  3-8-lead-table-pagination: done  # Code review: race condition fix, dead code removal, pagination tests added
  epic-3-retrospective: done

  # Epic 4: Lead Management
  epic-4: in-progress
  4-1-lead-segments-lists: done  # Code review: 4 HIGH, 3 MEDIUM fixes applied
  4-2-lead-status-management: done  # Code review: 2 HIGH, 1 MEDIUM fixes applied (test logic, documentation)
  # NEW STORIES - Lead Persistence Architecture (identified during 4.2 implementation)
  # See: _bmad-output/implementation-artifacts/epic-4-lead-persistence-planning.md
  4-2-1-lead-import-mechanism: done  # P0: Enables lead persistence, fixes 4.2 status bug. Code review: 3 HIGH, 1 MEDIUM fixes applied
  4-2-2-my-leads-page: done  # P1: Dedicated view for saved/imported leads. Code review: 2 HIGH, 1 MEDIUM fixes applied
  4-2-3-sidebar-navigation-enhancement: done  # P1: Expandable Leads submenu (Buscar, Meus Leads). Code review: 1 HIGH, 4 MEDIUM, 4 LOW fixes applied
  # Original stories continue
  4-3-lead-detail-view-interaction-history: done  # Code review: 2 HIGH, 4 MEDIUM, 4 LOW fixes applied (Zod validation, shared components, test coverage)
  4-4-signalhire-integration-service: done  # Code review: 1 HIGH, 1 MEDIUM, 1 LOW fixes applied (requestId do body não header, mocks atualizados, console.warn removido)
  # NEW STORY - Lead Data Enrichment (prerequisite for 4.5)
  # Problem: SignalHire requires email OR LinkedIn, but imported leads don't have these
  # Solution: Apollo People Enrichment to get email, LinkedIn, photo_url before phone lookup
  4-4-1-lead-data-enrichment: done  # P0: Code review 2026-02-02: 4 fixes applied (hook tests, progress UI, error handling, accents)
  # NEW STORY - SignalHire Callback Architecture (CRITICAL FIX)
  # Problem: SignalHire API requires callbackUrl (mandatory), current code uses non-existent polling
  # Solution: Supabase Edge Function as callback receiver, works in dev and prod without ngrok
  4-4-2-signalhire-callback-architecture: done  # P0: Code review 2026-02-02: 4 MEDIUM fixes applied (act warnings, docs)
  4-5-phone-number-lookup: blocked  # BLOCKED: needs 4.4.2 (callback architecture) - 4.4.1 DONE
  4-6-interested-leads-highlighting: done  # Code review: 3 MEDIUM, 2 LOW fixes applied (fallback ordering, documentation)
  4-7-import-campaign-results: done  # Code review 2026-02-02: 5 HIGH, 3 MEDIUM fixes (drag-and-drop, batch processing, email validation, progress indicator)
  epic-4-retrospective: done

  # Epic 5: Campaign Builder
  epic-5: in-progress
  5-1-campaigns-page-data-model: done  # Code review 2026-02-02: 5 fixes applied (missing tests, JSON validation, RLS policy, hook refactor, accessibility)
  5-2-campaign-builder-canvas: done  # Code review 2026-02-02: 3 MEDIUM fixes applied (unused var, max length validation, ARIA labels)
  5-3-email-block-component: done  # Code review 2026-02-02: 3 HIGH, 2 MEDIUM fixes (useState sync, unused ref, body validation)
  5-4-delay-block-component: done  # Code review 2026-02-02: 3 MEDIUM, 3 LOW fixes (useEffect deps, aria-label, type safety, data spread, docs)
  5-5-sequence-connector-lines: done  # Code review 2026-02-02: 1 HIGH, 2 MEDIUM fixes (TypeScript mock types, --border color token, double gap spacing)
  5-6-block-drag-reorder: done  # Code review 2026-02-02: 2 HIGH, 1 MEDIUM fixes (screen reader announcements, Portuguese aria-labels, drag handler tests)
  5-7-campaign-lead-association: done  # Code review 2026-02-02: 2 HIGH, 3 MEDIUM fixes (modal close on add, hasChanges flag, File List docs)
  5-8-campaign-preview: backlog
  5-9-campaign-save-multiple-campaigns: backlog
  epic-5-retrospective: optional

  # Epic 6: AI Content Generation
  epic-6: backlog
  6-1-ai-provider-service-layer: backlog
  6-2-ai-text-generation-in-builder: backlog
  6-3-knowledge-base-integration-for-context: backlog
  6-4-personalized-icebreakers: backlog
  6-5-inline-text-editing: backlog
  6-6-text-regeneration: backlog
  6-7-tone-of-voice-application: backlog
  6-8-use-of-successful-examples: backlog
  epic-6-retrospective: optional

  # Epic 7: Campaign Deployment
  epic-7: backlog
  7-1-snov-io-integration-service: backlog
  7-2-instantly-integration-service: backlog
  7-3-export-dialog-ui: backlog
  7-4-export-to-instantly: backlog
  7-5-export-to-snov-io: backlog
  7-6-manual-export-copy-to-clipboard: backlog
  7-7-error-messages-fallback: backlog
  7-8-loading-states-system: backlog
  7-9-toast-notification-system: backlog
  epic-7-retrospective: optional
